
    {# productos/templates/productos/detalle_producto.html #}
    {% extends 'core/base.html' %} 
    {% load static %}

    {% block title %}Detalle de Producto - {{ producto.nombre }}{% endblock %}

    {% block content %}
    <div class="main-content">
        <div class="product-detail-container">
            <div class="product-image-detail">
                {% if producto.imagen %}
                    <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
                {% else %}
                    <img src="https://via.placeholder.com/600x400?text=Sin+Imagen" alt="Producto sin imagen">
                {% endif %}
            </div>
            <div class="product-info-detail">
                <h1>{{ producto.nombre }}</h1>
                <p class="product-price-detail">Precio: ${{ producto.precio }}</p>
                <p class="product-description-detail">{{ producto.descripcion }}</p>
                <p class="product-stock-detail">Stock disponible: {{ producto.stock }}</p>
                <p class="product-category-detail">Categoría: {{ producto.categoria.nombre|default:"Sin categoría" }}</p>

                {# Formulario de añadir al carrito con soporte AJAX #}
                {# Asegúrate de que esta clase 'add-to-cart-form' esté presente #}
                <form class="add-to-cart-form" data-product-id="{{ producto.pk }}" action="{% url 'productos:add_to_cart' producto.pk %}" method="post">
                    {% csrf_token %}
                    <div class="quantity-selector">
                        <label for="cantidad">Cantidad:</label>
                        <input type="number" id="cantidad" name="cantidad" value="1" min="1" max="{{ producto.stock }}" class="quantity-input">
                    </div>
                    <button type="submit" class="btn-add-to-cart">Añadir al Carrito</button>
                </form>
                <a href="{% url 'productos:lista_productos' %}" class="btn-back-to-list">Volver a la lista de productos</a>
            </div>
        </div>
    </div>
    {% endblock content %}
    